## 오브젝트를 폐기하는 방법(How to dispose of objects)

애플리케이션에서 성능을 개선하고 메모리 누수를 방지하기 위한 중요한 한 가지는 사용되지 않는 라이브러리 개체를 폐기하는 것입니다. **three.js** 유형의 인스턴스는 생성될 때마다 일정량의 메모리를 할당하게 됩니다. 하지만 three.js는 특정 개체에 대해 기하학적 구조나 **WebGL** 관련 재질(버퍼 또는 쉐이더 프로그램) 개체의 렌더링에 필요한 것입니다. 이러한 오브젝트들은 자동으로 폐기되지 않는다는 점을 주의하세요. 대신, 애플리케이션에서는 메모리 자원을 확보하기 위해 특별한 API를 사용해야 됩니다. 이 가이드에서는 이 API의 사용 방법과 이와 관련해서 어떤 오브젝트가 있는지에 대한 간략한 설명을 제공해 드립니다.

### 기하학

기하학의 속성 집합으로 정의된 꼭짓점 정보를 표시하는데, **three.js**는 속성마다 하나의 `WebGLBuffer`유형의 대상을 만들어 내부에 저장합니다. 이러한 개체는 `BufferGeometry.dispose`를 호출할 때만 폐기됩니다. 만약 애플리케이션에서 기하학을 더이상 사용하지 않는다면, 이 방법을 실행하여 모든 자원을 폐기하세요.

### 재질

재질은 오브젝트가 어떻게 렌더링되는지를 정의합니다. three.js는 재질에 정의된 정보를 사용하여 렌더링을 위한 하나의 셰이더 프로그램을 구축합니다. 셰이더 프로그램은 해당 재질이 폐기된 후에만 삭제할 수 있습니다. 성능상의 이윯 three.js는 가능하다면 활용 가능한 셰이더 프로그램을 재사용하게 되어 있습니다. 따라서 셰이더 프로그램은 모든 관련된 재질들이 사라진 후에야 삭제됩니다. `Material.dispose()` 를 실행함으로써 재질을 폐기할 수 있습니다.

### 텍스쳐

재질의 폐기는 텍스쳐에 영향을 미치지 않습니다. 이들은 분리되어 있어 하나의 텍스쳐를 여러 재질로 동시에 사용할 수 있습니다. `Texture` 인스턴스를 만들 때마다 three.js 내부에는 `WebGLTexture` 인스턴스를 만듭니다. buffer와 비슷하게, 이 오브젝트는 `Texture.dispose()` 호출로만 삭제가 가능합니다.

### 렌더링 대상
`WebGLRenderTarget` 타입의 오브젝트는 `WebGLTexture`의 인스턴스가 할당되어 있을 뿐만 아니라, `WebGLFramebuffer`와 `WebGLRenderbuffer` 도 할당되어, 커스텀 렌더링 목표를 실체화합니다. 이러한 오브젝트는 `WebGLRenderTarget.dispose()`를 실행해야만 폐기할 수 있습니다.

### 그밖의 것들

컨트롤러나 후기 처리 프로세스처럼 `dispose()` 메서드가 제공되어 내부 이벤트리스너나 렌더링 대상을 폐기하는 **examples**폴더에서 가져온 것들이 있습니다. 일반적으로 API나 파일을 열람하고 `dispose()`를 확인하는 것이 좋습니다. 만약 이 메서드가 존재한다면 당연히 그 메서드를 폐기 시에 사용해야 합니다.


